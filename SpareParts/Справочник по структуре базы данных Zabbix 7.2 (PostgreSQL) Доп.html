<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Справочник Zabbix 7.2</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 40px;
      background-color: #fefefe;
      color: #212529;
    }
    h1, h2, h3 {
      color: #343a40;
    }
    nav ul {
      padding-left: 20px;
    }
    nav li {
      margin: 8px 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th, td {
      border: 1px solid #dee2e6;
      padding: 10px;
    }
    th {
      background: #343a40;
      color: white;
    }
    tr:nth-child(even) {
      background: #f1f3f5;
    }
    code {
      background: #f8f9fa;
      padding: 2px 4px;
      border-radius: 4px;
    }
    .cover {
      text-align: center;
      margin: 100px 0 60px;
    }
  </style>
</head>
<body>

<div class="cover">
  <h1>Справочник по структуре базы данных</h1>
  <h2>Zabbix 7.2 (PostgreSQL)</h2>
  <p>Подробная документация по ключевым таблицам</p>
  <p style="color: #adb5bd;">Автоматически сгенерировано — 2025</p>
</div>

<hr>

<nav>
  <strong>Содержание:</strong>
  <ul>
    <li><a href="#items">2. Элементы данных (Items)</a></li>
    <li><a href="#history">3. История и тренды</a></li>
    <li><a href="#triggers">4. Триггеры и события</a></li>
    <li><a href="#alerts">5. Оповещения и действия</a></li>
    <li><a href="#users">6. Пользователи и группы</a></li>
    <li><a href="#maintenance">7. Обслуживание и расписания</a></li>
    <li><a href="#custom_scripts">8. Пользовательские сценарии</a></li>
  </ul>
</nav>


<!-- Раздел 2. Элементы данных (Items) -->
<h2 id="items">2. Элементы данных (Items)</h2>
<p>Таблица <code>items</code> хранит конфигурацию всех элементов данных, собираемых Zabbix. Каждый элемент данных определяет источник и метод получения мониторинговой информации.</p>
<table>
  <thead><tr><th>Поле</th><th>Описание (RU)</th><th>Description (EN)</th></tr></thead>
  <tbody>
    <tr><td><code>itemid</code></td><td>Идентификатор элемента данных</td><td>Item ID</td></tr>
    <tr><td><code>name</code></td><td>Название элемента</td><td>Item name</td></tr>
    <tr><td><code>key_</code></td><td>Ключ сбора данных</td><td>Item key</td></tr>
    <tr><td><code>type</code></td><td>Тип источника данных</td><td>Type of data source</td></tr>
    <tr><td><code>value_type</code></td><td>Тип значения (число, строка и т.д.)</td><td>Value type</td></tr>
  </tbody>
</table>

<!-- Раздел 3. История и тренды -->
<h2 id="history">3. История и тренды</h2>
<p>Исторические данные и агрегаты (тренды) хранятся в отдельных таблицах и используются для визуализации и анализа метрик во времени.</p>
<table>
  <thead><tr><th>Поле</th><th>Описание (RU)</th><th>Description (EN)</th></tr></thead>
  <tbody>
    <tr><td><code>itemid</code></td><td>ID элемента данных</td><td>Item ID</td></tr>
    <tr><td><code>clock</code></td><td>Временная метка</td><td>Timestamp</td></tr>
    <tr><td><code>value</code></td><td>Значение</td><td>Value</td></tr>
  </tbody>
</table>

<!-- Раздел 4. Триггеры и события -->
<h2 id="triggers">4. Триггеры и события</h2>
<p>Триггеры определяют условия возникновения проблем на основе значений элементов данных. События фиксируют срабатывание триггеров.</p>
<table>
  <thead><tr><th>Поле</th><th>Описание (RU)</th><th>Description (EN)</th></tr></thead>
  <tbody>
    <tr><td><code>triggerid</code></td><td>ID триггера</td><td>Trigger ID</td></tr>
    <tr><td><code>expression</code></td><td>Условие</td><td>Expression</td></tr>
    <tr><td><code>priority</code></td><td>Приоритет</td><td>Priority</td></tr>
  </tbody>
</table>

<!-- Раздел 5. Оповещения и действия -->
<h2 id="alerts">5. Оповещения и действия</h2>
<p>Оповещения отправляются в ответ на события, в соответствии с действиями, определёнными в настройках. Возможны отправка email, запуск скриптов и другие реакции.</p>
<table>
  <thead><tr><th>Поле</th><th>Описание (RU)</th><th>Description (EN)</th></tr></thead>
  <tbody>
    <tr><td><code>alertid</code></td><td>ID оповещения</td><td>Alert ID</td></tr>
    <tr><td><code>clock</code></td><td>Время</td><td>Time</td></tr>
    <tr><td><code>message</code></td><td>Сообщение</td><td>Message</td></tr>
  </tbody>
</table>

<!-- Раздел 6. Пользователи и группы -->
<h2 id="users">6. Пользователи и группы</h2>
<p>Пользователи управляются через таблицы users и usrgrp, где задаются права, принадлежность к группам и параметры авторизации.</p>
<table>
  <thead><tr><th>Поле</th><th>Описание (RU)</th><th>Description (EN)</th></tr></thead>
  <tbody>
    <tr><td><code>userid</code></td><td>ID пользователя</td><td>User ID</td></tr>
    <tr><td><code>alias</code></td><td>Имя (логин)</td><td>Alias (login)</td></tr>
    <tr><td><code>name</code></td><td>Имя</td><td>Name</td></tr>
  </tbody>
</table>

<!-- Раздел 7. Обслуживание и расписания -->
<h2 id="maintenance">7. Обслуживание и расписания</h2>
<p>Позволяет исключать хосты из мониторинга на заданное время. Используется для планового обслуживания без генерации тревог.</p>
<table>
  <thead><tr><th>Поле</th><th>Описание (RU)</th><th>Description (EN)</th></tr></thead>
  <tbody>
    <tr><td><code>maintenanceid</code></td><td>ID обслуживания</td><td>Maintenance ID</td></tr>
    <tr><td><code>active_since</code></td><td>С момента</td><td>Active since</td></tr>
    <tr><td><code>active_till</code></td><td>До момента</td><td>Active till</td></tr>
  </tbody>
</table>

<!-- Раздел 8. Пользовательские сценарии -->
<h2 id="custom_scripts">8. Пользовательские сценарии</h2>
<p>Позволяют выполнять внешние команды или скрипты вручную или автоматически, часто применяются для автоматизации.</p>
<table>
  <thead><tr><th>Поле</th><th>Описание (RU)</th><th>Description (EN)</th></tr></thead>
  <tbody>
    <tr><td><code>scriptid</code></td><td>ID сценария</td><td>Script ID</td></tr>
    <tr><td><code>command</code></td><td>Команда</td><td>Command</td></tr>
    <tr><td><code>description</code></td><td>Описание</td><td>Description</td></tr>
  </tbody>
</table>


</body>
</html>